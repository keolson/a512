<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
  <link rel="stylesheet" href="css/discovery.css" type="text/css" media="screen" />
  <title>Insert title here</title>
  <script type="text/javascript" src="js/lib/mootools-1.2.3-core.js" ></script>
  <script type="text/javascript" src="js/lib/ext/adapter/ext/ext-base-debug.js" ></script>
  <script type="text/javascript" src="js/lib/ext/ext-all-debug.js" ></script>
  <script type="text/javascript" src="js/core.js" ></script>
<script type="text/javascript" src="js/Ext.ux.TagCloud.js" ></script>
	<script type="text/javascript" charset="utf-8">
  
      Ext.onReady(function(){
      
          // Make an array of sample tags
          var sampleData = {
          results : [
              {tag: 'Social Security', count: 5},
              {tag: 'Retirement', count: 9},
              {tag: 'Savings Account', count: 5},
              {tag: 'Stock Trading', count: 7},
              {tag: 'Investment', count: 7},
          ]};

			sampleData.results.sort( function(){return (Math.round(Math.random())-0.5)});
          
          /* 
           * Here we use a MemoryProxy to read in the JSON data.
           * 
           * This store could potentially read from any source you'd like (in-memory
           * or stored server-side), and a variety of data formats from JSON, XML, 
           * or simple arrays using the variety of DataProxy and DataReader 
           * implementations supplied in Ext.data.
           */
          var ds = new Ext.data.Store({
              proxy: new Ext.data.MemoryProxy(sampleData),
              reader: new Ext.data.JsonReader({
                  root: 'results',
                 
              }, [
                  {name: 'tag'},
      			{name: 'count'}
              ]),
              remoteSort: false
          });

      	var cloud = new Ext.ux.TagCloud({
              store: ds, 
              displayField: 'tag', 
              weightField: 'count', 
              displayWeight: false
              }
      	);

          cloud.on('tagselect', function(cloud, record, index){
              alert('You clicked on "'+record.get('tag')+'"!');
          });
      	cloud.render('cloud');

      	ds.load();
      
      });
  
  </script>

</head>
<body>
	<div id="container">
		<div id="header">Discover what's popular right now!</div>
		<div id="cloud"></div>
		<div id="content">
			<div class="clear"></div>
			<div id="sorting">
				<span class="day">Today</span>
				<span class="day">7 Days</span>
				<span class="day">30 Days</span>
			</div>
			<div class="clear"></div>
		</div>
		<div id="bottom_ad"></div>
		<div id="footer"></div>
	</div>
</body>
</html>
